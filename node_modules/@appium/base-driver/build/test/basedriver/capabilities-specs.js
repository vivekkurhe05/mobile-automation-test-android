"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

require("source-map-support/register");

var _capabilities = require("../../lib/basedriver/capabilities");

var _lodash = _interopRequireDefault(require("lodash"));

var _desiredCaps = require("../../lib/basedriver/desired-caps");

describe('caps', function () {
  describe('#validateCaps', function () {
    it('returns invalid argument error if "capability" is not a JSON object (1)', function () {
      for (let arg of [undefined, null, 1, true, 'string']) {
        (function () {
          (0, _capabilities.validateCaps)(arg);
        }).should.throw(/must be a JSON object/);
      }
    });
    it('returns result {} by default if caps is empty object and no constraints provided (2)', function () {
      (0, _capabilities.validateCaps)({}).should.deep.equal({});
    });
    describe('throws errors if constraints are not met', function () {
      it('returns invalid argument error if "present" constraint not met on property', function () {
        (() => (0, _capabilities.validateCaps)({}, {
          foo: {
            presence: true
          }
        })).should.throw(/'foo' can't be blank/);
      });
      it('returns the capability that was passed in if "skipPresenceConstraint" is false', function () {
        (0, _capabilities.validateCaps)({}, {
          foo: {
            presence: true
          }
        }, {
          skipPresenceConstraint: true
        }).should.deep.equal({});
      });
      it('returns invalid argument error if "isString" constraint not met on property', function () {
        (() => (0, _capabilities.validateCaps)({
          foo: 1
        }, {
          foo: {
            isString: true
          }
        })).should.throw(/'foo' must be of type string/);
      });
      it('returns invalid argument error if "isNumber" constraint not met on property', function () {
        (() => (0, _capabilities.validateCaps)({
          foo: 'bar'
        }, {
          foo: {
            isNumber: true
          }
        })).should.throw(/'foo' must be of type number/);
      });
      it('returns invalid argument error if "isBoolean" constraint not met on property', function () {
        (() => (0, _capabilities.validateCaps)({
          foo: 'bar'
        }, {
          foo: {
            isBoolean: true
          }
        })).should.throw(/'foo' must be of type boolean/);
      });
      it('returns invalid argument error if "inclusion" constraint not met on property', function () {
        (() => (0, _capabilities.validateCaps)({
          foo: '3'
        }, {
          foo: {
            inclusionCaseInsensitive: ['1', '2']
          }
        })).should.throw(/'foo' 3 not part of 1,2/);
      });
      it('returns invalid argument error if "inclusionCaseInsensitive" constraint not met on property', function () {
        (() => (0, _capabilities.validateCaps)({
          foo: 'a'
        }, {
          foo: {
            inclusion: ['A', 'B', 'C']
          }
        })).should.throw(/'foo' a is not included in the list/);
      });
    });
    it('should not throw errors if constraints are met', function () {
      let caps = {
        number: 1,
        string: 'string',
        present: 'present',
        extra: 'extra'
      };
      let constraints = {
        number: {
          isNumber: true
        },
        string: {
          isString: true
        },
        present: {
          presence: true
        },
        notPresent: {
          presence: false
        }
      };
      (0, _capabilities.validateCaps)(caps, constraints).should.deep.equal(caps);
    });
  });
  describe('#mergeCaps', function () {
    it('returns a result that is {} by default (1)', function () {
      (0, _capabilities.mergeCaps)().should.deep.equal({});
    });
    it('returns a result that matches primary by default (2, 3)', function () {
      (0, _capabilities.mergeCaps)({
        hello: 'world'
      }).should.deep.equal({
        hello: 'world'
      });
    });
    it('returns invalid argument error if primary and secondary have matching properties (4)', function () {
      (() => (0, _capabilities.mergeCaps)({
        hello: 'world'
      }, {
        hello: 'whirl'
      })).should.throw(/property 'hello' should not exist on both primary [\w\W]* and secondary [\w\W]*/);
    });
    it('returns a result with keys from primary and secondary together', function () {
      let primary = {
        a: 'a',
        b: 'b'
      };
      let secondary = {
        c: 'c',
        d: 'd'
      };
      (0, _capabilities.mergeCaps)(primary, secondary).should.deep.equal({
        a: 'a',
        b: 'b',
        c: 'c',
        d: 'd'
      });
    });
  });
  describe('#parseCaps', function () {
    let caps;
    beforeEach(function () {
      caps = {};
    });
    it('should return invalid argument if no caps object provided', function () {
      (() => (0, _capabilities.parseCaps)()).should.throw(/must be a JSON object/);
    });
    it('sets "requiredCaps" to property named "alwaysMatch" (2)', function () {
      caps.alwaysMatch = {
        'appium:hello': 'world'
      };
      (0, _capabilities.parseCaps)(caps).requiredCaps.should.deep.equal(caps.alwaysMatch);
    });
    it('sets "requiredCaps" to empty JSON object if "alwaysMatch" is not an object (2.1)', function () {
      (0, _capabilities.parseCaps)(caps).requiredCaps.should.deep.equal({});
    });
    it('returns invalid argument error if "requiredCaps" don\'t match "constraints" (2.2)', function () {
      caps.alwaysMatch = {
        'appium:foo': 1
      };
      (() => (0, _capabilities.parseCaps)(caps, {
        foo: {
          isString: true
        }
      })).should.throw(/'foo' must be of type string/);
    });
    it('sets "allFirstMatchCaps" to property named "firstMatch" (3)', function () {
      (0, _capabilities.parseCaps)({}, [{}]).allFirstMatchCaps.should.deep.equal([{}]);
    });
    it('sets "allFirstMatchCaps" to [{}] if "firstMatch" is undefined (3.1)', function () {
      (0, _capabilities.parseCaps)({}).allFirstMatchCaps.should.deep.equal([{}]);
    });
    it('returns invalid argument error if "firstMatch" is not an array and is not undefined (3.2)', function () {
      for (let arg of [null, 1, true, 'string']) {
        caps.firstMatch = arg;
        (function () {
          (0, _capabilities.parseCaps)(caps);
        }).should.throw(/must be a JSON array or undefined/);
      }
    });
    it('has "validatedFirstMatchCaps" property that is empty by default if no valid firstMatch caps were found (4)', function () {
      (0, _capabilities.parseCaps)(caps, {
        foo: {
          presence: true
        }
      }).validatedFirstMatchCaps.should.deep.equal([]);
    });
    describe('returns a "validatedFirstMatchCaps" array (5)', function () {
      it('that equals "firstMatch" if firstMatch is one empty object and there are no constraints', function () {
        caps.firstMatch = [{}];
        (0, _capabilities.parseCaps)(caps).validatedFirstMatchCaps.should.deep.equal(caps.firstMatch);
      });
      it('returns "null" matchedCaps if nothing matches', function () {
        caps.firstMatch = [{}];
        should.equal((0, _capabilities.parseCaps)(caps, {
          foo: {
            presence: true
          }
        }).matchedCaps, null);
      });
      it(`should return capabilities if presence constraint is matched in at least one of the 'firstMatch' capabilities objects`, function () {
        caps.alwaysMatch = {
          'appium:foo': 'bar'
        };
        caps.firstMatch = [{
          'appium:hello': 'world'
        }, {
          'appium:goodbye': 'world'
        }];
        (0, _capabilities.parseCaps)(caps, {
          goodbye: {
            presence: true
          }
        }).matchedCaps.should.deep.equal({
          foo: 'bar',
          goodbye: 'world'
        });
      });
      it(`throws invalid argument if presence constraint is not met on any capabilities`, function () {
        caps.alwaysMatch = {
          'appium:foo': 'bar'
        };
        caps.firstMatch = [{
          'appium:hello': 'world'
        }, {
          'appium:goodbye': 'world'
        }];
        should.equal((0, _capabilities.parseCaps)(caps, {
          someAttribute: {
            presence: true
          }
        }).matchedCaps, null);
      });
      it('that equals firstMatch if firstMatch contains two objects that pass the provided constraints', function () {
        caps.alwaysMatch = {
          'appium:foo': 'bar'
        };
        caps.firstMatch = [{
          'appium:foo': 'bar1'
        }, {
          'appium:foo': 'bar2'
        }];
        let constraints = {
          foo: {
            presence: true,
            isString: true
          }
        };
        (0, _capabilities.parseCaps)(caps, constraints).validatedFirstMatchCaps.should.deep.equal(caps.firstMatch);
      });
      it('returns no vendor prefix error if the firstMatch[2] does not have it because of no bject', function () {
        caps.alwaysMatch = {};
        caps.firstMatch = [{
          'appium:foo': 'bar'
        }, 'foo'];
        (() => (0, _capabilities.parseCaps)(caps, {})).should.throw(/All non-standard capabilities should have a vendor prefix/);
      });
    });
    describe('returns a matchedCaps object (6)', function () {
      beforeEach(function () {
        caps.alwaysMatch = {
          'appium:hello': 'world'
        };
      });
      it('which is same as alwaysMatch if firstMatch array is not provided', function () {
        (0, _capabilities.parseCaps)(caps).matchedCaps.should.deep.equal({
          hello: 'world'
        });
      });
      it('merges caps together', function () {
        caps.firstMatch = [{
          'appium:foo': 'bar'
        }];
        (0, _capabilities.parseCaps)(caps).matchedCaps.should.deep.equal({
          hello: 'world',
          foo: 'bar'
        });
      });
      it('with merged caps', function () {
        caps.firstMatch = [{
          'appium:hello': 'bar',
          'appium:foo': 'foo'
        }, {
          'appium:foo': 'bar'
        }];
        (0, _capabilities.parseCaps)(caps).matchedCaps.should.deep.equal({
          hello: 'world',
          foo: 'bar'
        });
      });
    });
  });
  describe('#processCaps', function () {
    it('should return "alwaysMatch" if "firstMatch" and "constraints" were not provided', function () {
      (0, _capabilities.processCapabilities)({}).should.deep.equal({});
    });
    it('should return merged caps', function () {
      (0, _capabilities.processCapabilities)({
        alwaysMatch: {
          'appium:hello': 'world'
        },
        firstMatch: [{
          'appium:foo': 'bar'
        }]
      }).should.deep.equal({
        hello: 'world',
        foo: 'bar'
      });
    });
    it('should strip out the "appium:" prefix for non-standard capabilities', function () {
      (0, _capabilities.processCapabilities)({
        alwaysMatch: {
          'appium:hello': 'world'
        },
        firstMatch: [{
          'appium:foo': 'bar'
        }]
      }).should.deep.equal({
        hello: 'world',
        foo: 'bar'
      });
    });
    it('should still accept prefixed caps even if they are standard capabilities (https://www.w3.org/TR/webdriver/#dfn-table-of-standard-capabilities)', function () {
      (0, _capabilities.processCapabilities)({
        alwaysMatch: {
          'appium:platformName': 'Whatevz'
        },
        firstMatch: [{
          'appium:browserName': 'Anything'
        }]
      }).should.deep.equal({
        platformName: 'Whatevz',
        browserName: 'Anything'
      });
    });
    it('should prefer standard caps that are non-prefixed to prefixed', function () {
      (0, _capabilities.processCapabilities)({
        alwaysMatch: {
          'appium:platformName': 'Foo',
          'platformName': 'Bar'
        },
        firstMatch: [{
          'appium:browserName': 'FOO',
          'browserName': 'BAR'
        }]
      }).should.deep.equal({
        platformName: 'Bar',
        browserName: 'BAR'
      });
    });
    it('should throw exception if duplicates in alwaysMatch and firstMatch', function () {
      (() => (0, _capabilities.processCapabilities)({
        alwaysMatch: {
          'platformName': 'Fake',
          'appium:fakeCap': 'foobar'
        },
        firstMatch: [{
          'appium:platformName': 'bar'
        }]
      })).should.throw(/should not exist on both primary/);
    });
    it('should not throw an exception if presence constraint is not met on a firstMatch capability', function () {
      const caps = (0, _capabilities.processCapabilities)({
        alwaysMatch: {
          'platformName': 'Fake',
          'appium:fakeCap': 'foobar'
        },
        firstMatch: [{
          'appium:foo': 'bar'
        }]
      }, {
        platformName: {
          presence: true
        },
        fakeCap: {
          presence: true
        }
      });
      caps.platformName.should.equal('Fake');
      caps.fakeCap.should.equal('foobar');
      caps.foo.should.equal('bar');
    });
    it('should throw an exception if no matching caps were found', function () {
      (() => (0, _capabilities.processCapabilities)({
        alwaysMatch: {
          'platformName': 'Fake',
          'appium:fakeCap': 'foobar'
        },
        firstMatch: [{
          'appium:foo': 'bar'
        }]
      }, {
        platformName: {
          presence: true
        },
        fakeCap: {
          presence: true
        },
        missingCap: {
          presence: true
        }
      })).should.throw(/'missingCap' can't be blank/);
    });
    describe('validate Appium constraints', function () {
      const constraints = { ..._desiredCaps.desiredCapabilityConstraints
      };
      const expectedMatchingCaps = {
        'platformName': 'Fake',
        'automationName': 'Fake',
        'deviceName': 'Fake'
      };
      let matchingCaps;
      let caps;
      beforeEach(function () {
        matchingCaps = {
          'platformName': 'Fake',
          'appium:automationName': 'Fake',
          'appium:deviceName': 'Fake'
        };
      });
      it('should validate when alwaysMatch has the proper caps', function () {
        caps = {
          alwaysMatch: matchingCaps,
          firstMatch: [{}]
        };
        (0, _capabilities.processCapabilities)(caps, constraints).should.deep.equal(expectedMatchingCaps);
      });
      it('should validate when firstMatch[0] has the proper caps', function () {
        caps = {
          alwaysMatch: {},
          firstMatch: [matchingCaps]
        };
        (0, _capabilities.processCapabilities)(caps, constraints).should.deep.equal(expectedMatchingCaps);
      });
      it('should validate when alwaysMatch and firstMatch[0] have the proper caps when merged together', function () {
        caps = {
          alwaysMatch: _lodash.default.omit(matchingCaps, ['appium:deviceName']),
          firstMatch: [{
            'appium:deviceName': 'Fake'
          }]
        };
        (0, _capabilities.processCapabilities)(caps, constraints).should.deep.equal(expectedMatchingCaps);
      });
      it('should validate when automationName is omitted', function () {
        caps = {
          alwaysMatch: _lodash.default.omit(matchingCaps, ['appium:automationName'])
        };
        (0, _capabilities.processCapabilities)(caps, constraints).should.deep.equal(_lodash.default.omit(expectedMatchingCaps, 'automationName'));
      });
      it('should pass if first element in "firstMatch" does validate and second element does not', function () {
        caps = {
          alwaysMatch: {},
          firstMatch: [matchingCaps, {
            'appium:badCaps': 'badCaps'
          }]
        };
        (0, _capabilities.processCapabilities)(caps, constraints).should.deep.equal(expectedMatchingCaps);
      });
      it('should pass if first element in "firstMatch" does not validate and second element does', function () {
        caps = {
          alwaysMatch: {},
          firstMatch: [{
            'appium:badCaps': 'badCaps'
          }, matchingCaps]
        };
        (0, _capabilities.processCapabilities)(caps, constraints).should.deep.equal(expectedMatchingCaps);
      });
      it('should fail when bad parameters are passed in more than one firstMatch capability', function () {
        caps = {
          alwaysMatch: {},
          firstMatch: [{
            'appium:bad': 'params'
          }, {
            'appium:more': 'bad-params'
          }]
        };
        (() => (0, _capabilities.processCapabilities)(caps, constraints)).should.throw(/Could not find matching capabilities/);
      });
    });
  });
  describe('.findNonPrefixedCaps', function () {
    it('should find alwaysMatch caps with no prefix', function () {
      (0, _capabilities.findNonPrefixedCaps)({
        alwaysMatch: {
          'non-standard': 'dummy'
        }
      }).should.eql(['non-standard']);
    });
    it('should not find a standard cap in alwaysMatch', function () {
      (0, _capabilities.findNonPrefixedCaps)({
        alwaysMatch: {
          'platformName': 'Any'
        }
      }).should.eql([]);
    });
    it('should find firstMatch caps with no prefix', function () {
      (0, _capabilities.findNonPrefixedCaps)({
        alwaysMatch: {},
        firstMatch: [{
          'non-standard': 'dummy'
        }]
      }).should.eql(['non-standard']);
    });
    it('should not find a standard cap in prefix', function () {
      (0, _capabilities.findNonPrefixedCaps)({
        alwaysMatch: {},
        firstMatch: [{
          'platformName': 'Any'
        }]
      }).should.eql([]);
    });
    it('should find firstMatch caps in second item of firstMatch array', function () {
      (0, _capabilities.findNonPrefixedCaps)({
        alwaysMatch: {},
        firstMatch: [{}, {
          'non-standard': 'dummy'
        }]
      }).should.eql(['non-standard']);
    });
    it('should remove duplicates from alwaysMatch and firstMatch', function () {
      (0, _capabilities.findNonPrefixedCaps)({
        alwaysMatch: {
          'non-standard': 'something'
        },
        firstMatch: [{
          'non-standard': 'dummy'
        }]
      }).should.eql(['non-standard']);
    });
    it('should remove duplicates from firstMatch', function () {
      (0, _capabilities.findNonPrefixedCaps)({
        firstMatch: [{
          'non-standard': 'dummy'
        }, {
          'non-standard': 'dummy 2'
        }]
      }).should.eql(['non-standard']);
    });
    it('should remove duplicates and keep standard capabilities', function () {
      const alwaysMatch = {
        platformName: 'Fake',
        nonStandardOne: 'non-standard',
        nonStandardTwo: 'non-standard'
      };
      const firstMatch = [{
        nonStandardThree: 'non-standard',
        nonStandardFour: 'non-standard',
        browserName: 'FakeBrowser'
      }, {
        nonStandardThree: 'non-standard',
        nonStandardFour: 'non-standard',
        nonStandardFive: 'non-standard',
        browserVersion: 'whateva'
      }];
      (0, _capabilities.findNonPrefixedCaps)({
        alwaysMatch,
        firstMatch
      }).should.eql(['nonStandardOne', 'nonStandardTwo', 'nonStandardThree', 'nonStandardFour', 'nonStandardFive']);
    });
  });
  describe('#promoteAppiumOptions', function () {
    const appiumCaps = {
      'appium:platformVersion': '14.4',
      'appium:deviceName': 'iPhone 11',
      'appium:app': '/foo/bar.app.zip',
      'appium:automationName': 'XCUITest'
    };
    const nonAppiumCaps = {
      platformName: 'iOS'
    };

    const appiumUnprefixedCaps = _lodash.default.clone(appiumCaps);

    (0, _capabilities.stripAppiumPrefixes)(appiumUnprefixedCaps);
    const simpleCaps = { ...nonAppiumCaps,
      ...appiumUnprefixedCaps
    };
    it('should do nothing to caps that dont include the options', function () {
      (0, _capabilities.promoteAppiumOptions)(simpleCaps).should.eql(simpleCaps);
    });
    it('should promote options', function () {
      const caps = { ...nonAppiumCaps,
        [_capabilities.APPIUM_OPTS_CAP]: { ...appiumUnprefixedCaps
        }
      };
      (0, _capabilities.promoteAppiumOptions)(caps).should.eql(simpleCaps);
    });
    it('should get rid of prefixes if caps inside options are prefixed', function () {
      const caps = { ...nonAppiumCaps,
        [_capabilities.APPIUM_OPTS_CAP]: { ...appiumCaps
        }
      };
      (0, _capabilities.promoteAppiumOptions)(caps).should.eql(simpleCaps);
    });
    it('should preserve non-appium vendor prefixes', function () {
      const googCaps = {
        'goog:chromeOptions': {
          foo: 'bar'
        }
      };
      const caps = { ...nonAppiumCaps,
        [_capabilities.APPIUM_OPTS_CAP]: { ...appiumCaps,
          ...googCaps
        }
      };
      (0, _capabilities.promoteAppiumOptions)(caps).should.eql({ ...simpleCaps,
        ...googCaps
      });
    });
    it('should overwrite caps found on the top level', function () {
      const caps = { ...nonAppiumCaps,
        foo: 'bar',
        [_capabilities.APPIUM_OPTS_CAP]: { ...appiumCaps,
          foo: 'baz'
        }
      };
      (0, _capabilities.promoteAppiumOptions)(caps).should.eql({ ...simpleCaps,
        foo: 'baz'
      });
    });
  });
});require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvYmFzZWRyaXZlci9jYXBhYmlsaXRpZXMtc3BlY3MuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJpdCIsImFyZyIsInVuZGVmaW5lZCIsInNob3VsZCIsInRocm93IiwiZGVlcCIsImVxdWFsIiwiZm9vIiwicHJlc2VuY2UiLCJza2lwUHJlc2VuY2VDb25zdHJhaW50IiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzQm9vbGVhbiIsImluY2x1c2lvbkNhc2VJbnNlbnNpdGl2ZSIsImluY2x1c2lvbiIsImNhcHMiLCJudW1iZXIiLCJzdHJpbmciLCJwcmVzZW50IiwiZXh0cmEiLCJjb25zdHJhaW50cyIsIm5vdFByZXNlbnQiLCJoZWxsbyIsInByaW1hcnkiLCJhIiwiYiIsInNlY29uZGFyeSIsImMiLCJkIiwiYmVmb3JlRWFjaCIsImFsd2F5c01hdGNoIiwicmVxdWlyZWRDYXBzIiwiYWxsRmlyc3RNYXRjaENhcHMiLCJmaXJzdE1hdGNoIiwidmFsaWRhdGVkRmlyc3RNYXRjaENhcHMiLCJtYXRjaGVkQ2FwcyIsImdvb2RieWUiLCJzb21lQXR0cmlidXRlIiwicGxhdGZvcm1OYW1lIiwiYnJvd3Nlck5hbWUiLCJmYWtlQ2FwIiwibWlzc2luZ0NhcCIsImRlc2lyZWRDYXBhYmlsaXR5Q29uc3RyYWludHMiLCJleHBlY3RlZE1hdGNoaW5nQ2FwcyIsIm1hdGNoaW5nQ2FwcyIsIl8iLCJvbWl0IiwiZXFsIiwibm9uU3RhbmRhcmRPbmUiLCJub25TdGFuZGFyZFR3byIsIm5vblN0YW5kYXJkVGhyZWUiLCJub25TdGFuZGFyZEZvdXIiLCJub25TdGFuZGFyZEZpdmUiLCJicm93c2VyVmVyc2lvbiIsImFwcGl1bUNhcHMiLCJub25BcHBpdW1DYXBzIiwiYXBwaXVtVW5wcmVmaXhlZENhcHMiLCJjbG9uZSIsInNpbXBsZUNhcHMiLCJBUFBJVU1fT1BUU19DQVAiLCJnb29nQ2FwcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBR0FB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QyxHQUFsQyxDQUFzQyxFQUNwQyxHQUFHVyxVQURpQztBQUVwQ25ELFFBQUFBLEdBQUcsRUFBRTtBQUYrQixPQUF0QztBQUlELEtBYkMsQ0FBRjtBQWNELEdBakVPLENBQVI7QUFrRUQsQ0FsZk8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlQ2FwcywgdmFsaWRhdGVDYXBzLCBtZXJnZUNhcHMsIHByb2Nlc3NDYXBhYmlsaXRpZXMsIGZpbmROb25QcmVmaXhlZENhcHMsXG4gICAgICAgICBwcm9tb3RlQXBwaXVtT3B0aW9ucywgQVBQSVVNX09QVFNfQ0FQLCBzdHJpcEFwcGl1bVByZWZpeGVzIH0gZnJvbSAnLi4vLi4vbGliL2Jhc2Vkcml2ZXIvY2FwYWJpbGl0aWVzJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBkZXNpcmVkQ2FwYWJpbGl0eUNvbnN0cmFpbnRzIH0gZnJvbSAnLi4vLi4vbGliL2Jhc2Vkcml2ZXIvZGVzaXJlZC1jYXBzJztcblxuXG5kZXNjcmliZSgnY2FwcycsIGZ1bmN0aW9uICgpIHtcblxuICAvLyBUZXN0cyBiYXNlZCBvbjogaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYmRyaXZlci8jZGZuLXZhbGlkYXRlLWNhcHNcbiAgZGVzY3JpYmUoJyN2YWxpZGF0ZUNhcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3JldHVybnMgaW52YWxpZCBhcmd1bWVudCBlcnJvciBpZiBcImNhcGFiaWxpdHlcIiBpcyBub3QgYSBKU09OIG9iamVjdCAoMSknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKGxldCBhcmcgb2YgW3VuZGVmaW5lZCwgbnVsbCwgMSwgdHJ1ZSwgJ3N0cmluZyddKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7IHZhbGlkYXRlQ2FwcyhhcmcpOyB9KS5zaG91bGQudGhyb3coL211c3QgYmUgYSBKU09OIG9iamVjdC8pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgcmVzdWx0IHt9IGJ5IGRlZmF1bHQgaWYgY2FwcyBpcyBlbXB0eSBvYmplY3QgYW5kIG5vIGNvbnN0cmFpbnRzIHByb3ZpZGVkICgyKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhbGlkYXRlQ2Fwcyh7fSkuc2hvdWxkLmRlZXAuZXF1YWwoe30pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3Rocm93cyBlcnJvcnMgaWYgY29uc3RyYWludHMgYXJlIG5vdCBtZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpdCgncmV0dXJucyBpbnZhbGlkIGFyZ3VtZW50IGVycm9yIGlmIFwicHJlc2VudFwiIGNvbnN0cmFpbnQgbm90IG1ldCBvbiBwcm9wZXJ0eScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgKCgpID0+IHZhbGlkYXRlQ2Fwcyh7fSwge2Zvbzoge3ByZXNlbmNlOiB0cnVlfX0pKS5zaG91bGQudGhyb3coLydmb28nIGNhbid0IGJlIGJsYW5rLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3JldHVybnMgdGhlIGNhcGFiaWxpdHkgdGhhdCB3YXMgcGFzc2VkIGluIGlmIFwic2tpcFByZXNlbmNlQ29uc3RyYWludFwiIGlzIGZhbHNlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YWxpZGF0ZUNhcHMoe30sIHtmb286IHtwcmVzZW5jZTogdHJ1ZX19LCB7c2tpcFByZXNlbmNlQ29uc3RyYWludDogdHJ1ZX0pLnNob3VsZC5kZWVwLmVxdWFsKHt9KTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgncmV0dXJucyBpbnZhbGlkIGFyZ3VtZW50IGVycm9yIGlmIFwiaXNTdHJpbmdcIiBjb25zdHJhaW50IG5vdCBtZXQgb24gcHJvcGVydHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICgoKSA9PiB2YWxpZGF0ZUNhcHMoe2ZvbzogMX0sIHtmb286IHtpc1N0cmluZzogdHJ1ZX19KSkuc2hvdWxkLnRocm93KC8nZm9vJyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3JldHVybnMgaW52YWxpZCBhcmd1bWVudCBlcnJvciBpZiBcImlzTnVtYmVyXCIgY29uc3RyYWludCBub3QgbWV0IG9uIHByb3BlcnR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAoKCkgPT4gdmFsaWRhdGVDYXBzKHtmb286ICdiYXInfSwge2Zvbzoge2lzTnVtYmVyOiB0cnVlfX0pKS5zaG91bGQudGhyb3coLydmb28nIG11c3QgYmUgb2YgdHlwZSBudW1iZXIvKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgncmV0dXJucyBpbnZhbGlkIGFyZ3VtZW50IGVycm9yIGlmIFwiaXNCb29sZWFuXCIgY29uc3RyYWludCBub3QgbWV0IG9uIHByb3BlcnR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAoKCkgPT4gdmFsaWRhdGVDYXBzKHtmb286ICdiYXInfSwge2Zvbzoge2lzQm9vbGVhbjogdHJ1ZX19KSkuc2hvdWxkLnRocm93KC8nZm9vJyBtdXN0IGJlIG9mIHR5cGUgYm9vbGVhbi8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdyZXR1cm5zIGludmFsaWQgYXJndW1lbnQgZXJyb3IgaWYgXCJpbmNsdXNpb25cIiBjb25zdHJhaW50IG5vdCBtZXQgb24gcHJvcGVydHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICgoKSA9PiB2YWxpZGF0ZUNhcHMoe2ZvbzogJzMnfSwge2Zvbzoge2luY2x1c2lvbkNhc2VJbnNlbnNpdGl2ZTogWycxJywgJzInXX19KSkuc2hvdWxkLnRocm93KC8nZm9vJyAzIG5vdCBwYXJ0IG9mIDEsMi8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdyZXR1cm5zIGludmFsaWQgYXJndW1lbnQgZXJyb3IgaWYgXCJpbmNsdXNpb25DYXNlSW5zZW5zaXRpdmVcIiBjb25zdHJhaW50IG5vdCBtZXQgb24gcHJvcGVydHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICgoKSA9PiB2YWxpZGF0ZUNhcHMoe2ZvbzogJ2EnfSwge2Zvbzoge2luY2x1c2lvbjogWydBJywgJ0InLCAnQyddfX0pKS5zaG91bGQudGhyb3coLydmb28nIGEgaXMgbm90IGluY2x1ZGVkIGluIHRoZSBsaXN0Lyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IHRocm93IGVycm9ycyBpZiBjb25zdHJhaW50cyBhcmUgbWV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGNhcHMgPSB7XG4gICAgICAgIG51bWJlcjogMSxcbiAgICAgICAgc3RyaW5nOiAnc3RyaW5nJyxcbiAgICAgICAgcHJlc2VudDogJ3ByZXNlbnQnLFxuICAgICAgICBleHRyYTogJ2V4dHJhJyxcbiAgICAgIH07XG5cbiAgICAgIGxldCBjb25zdHJhaW50cyA9IHtcbiAgICAgICAgbnVtYmVyOiB7aXNOdW1iZXI6IHRydWV9LFxuICAgICAgICBzdHJpbmc6IHtpc1N0cmluZzogdHJ1ZX0sXG4gICAgICAgIHByZXNlbnQ6IHtwcmVzZW5jZTogdHJ1ZX0sXG4gICAgICAgIG5vdFByZXNlbnQ6IHtwcmVzZW5jZTogZmFsc2V9LFxuICAgICAgfTtcblxuICAgICAgdmFsaWRhdGVDYXBzKGNhcHMsIGNvbnN0cmFpbnRzKS5zaG91bGQuZGVlcC5lcXVhbChjYXBzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gVGVzdHMgYmFzZWQgb246IGh0dHBzOi8vd3d3LnczLm9yZy9UUi93ZWJkcml2ZXIvI2Rmbi1tZXJnaW5nLWNhcHNcbiAgZGVzY3JpYmUoJyNtZXJnZUNhcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3JldHVybnMgYSByZXN1bHQgdGhhdCBpcyB7fSBieSBkZWZhdWx0ICgxKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG1lcmdlQ2FwcygpLnNob3VsZC5kZWVwLmVxdWFsKHt9KTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIGEgcmVzdWx0IHRoYXQgbWF0Y2hlcyBwcmltYXJ5IGJ5IGRlZmF1bHQgKDIsIDMpJywgZnVuY3Rpb24gKCkge1xuICAgICAgbWVyZ2VDYXBzKHtoZWxsbzogJ3dvcmxkJ30pLnNob3VsZC5kZWVwLmVxdWFsKHtoZWxsbzogJ3dvcmxkJ30pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgaW52YWxpZCBhcmd1bWVudCBlcnJvciBpZiBwcmltYXJ5IGFuZCBzZWNvbmRhcnkgaGF2ZSBtYXRjaGluZyBwcm9wZXJ0aWVzICg0KScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICgoKSA9PiBtZXJnZUNhcHMoe2hlbGxvOiAnd29ybGQnfSwge2hlbGxvOiAnd2hpcmwnfSkpLnNob3VsZC50aHJvdygvcHJvcGVydHkgJ2hlbGxvJyBzaG91bGQgbm90IGV4aXN0IG9uIGJvdGggcHJpbWFyeSBbXFx3XFxXXSogYW5kIHNlY29uZGFyeSBbXFx3XFxXXSovKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIGEgcmVzdWx0IHdpdGgga2V5cyBmcm9tIHByaW1hcnkgYW5kIHNlY29uZGFyeSB0b2dldGhlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBwcmltYXJ5ID0ge1xuICAgICAgICBhOiAnYScsXG4gICAgICAgIGI6ICdiJyxcbiAgICAgIH07XG4gICAgICBsZXQgc2Vjb25kYXJ5ID0ge1xuICAgICAgICBjOiAnYycsXG4gICAgICAgIGQ6ICdkJyxcbiAgICAgIH07XG4gICAgICBtZXJnZUNhcHMocHJpbWFyeSwgc2Vjb25kYXJ5KS5zaG91bGQuZGVlcC5lcXVhbCh7XG4gICAgICAgIGE6ICdhJywgYjogJ2InLCBjOiAnYycsIGQ6ICdkJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBUZXN0cyBiYXNlZCBvbjogaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYmRyaXZlci8jcHJvY2Vzc2luZy1jYXBhYmlsaXRpZXNcbiAgZGVzY3JpYmUoJyNwYXJzZUNhcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGNhcHM7XG5cbiAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhcHMgPSB7fTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGludmFsaWQgYXJndW1lbnQgaWYgbm8gY2FwcyBvYmplY3QgcHJvdmlkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAoKCkgPT4gcGFyc2VDYXBzKCkpLnNob3VsZC50aHJvdygvbXVzdCBiZSBhIEpTT04gb2JqZWN0Lyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2V0cyBcInJlcXVpcmVkQ2Fwc1wiIHRvIHByb3BlcnR5IG5hbWVkIFwiYWx3YXlzTWF0Y2hcIiAoMiknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjYXBzLmFsd2F5c01hdGNoID0geydhcHBpdW06aGVsbG8nOiAnd29ybGQnfTtcbiAgICAgIHBhcnNlQ2FwcyhjYXBzKS5yZXF1aXJlZENhcHMuc2hvdWxkLmRlZXAuZXF1YWwoY2Fwcy5hbHdheXNNYXRjaCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2V0cyBcInJlcXVpcmVkQ2Fwc1wiIHRvIGVtcHR5IEpTT04gb2JqZWN0IGlmIFwiYWx3YXlzTWF0Y2hcIiBpcyBub3QgYW4gb2JqZWN0ICgyLjEpJywgZnVuY3Rpb24gKCkge1xuICAgICAgcGFyc2VDYXBzKGNhcHMpLnJlcXVpcmVkQ2Fwcy5zaG91bGQuZGVlcC5lcXVhbCh7fSk7XG4gICAgfSk7XG5cbiAgICBpdCgncmV0dXJucyBpbnZhbGlkIGFyZ3VtZW50IGVycm9yIGlmIFwicmVxdWlyZWRDYXBzXCIgZG9uXFwndCBtYXRjaCBcImNvbnN0cmFpbnRzXCIgKDIuMiknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjYXBzLmFsd2F5c01hdGNoID0geydhcHBpdW06Zm9vJzogMX07XG4gICAgICAoKCkgPT4gcGFyc2VDYXBzKGNhcHMsIHtmb286IHtpc1N0cmluZzogdHJ1ZX19KSkuc2hvdWxkLnRocm93KC8nZm9vJyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2V0cyBcImFsbEZpcnN0TWF0Y2hDYXBzXCIgdG8gcHJvcGVydHkgbmFtZWQgXCJmaXJzdE1hdGNoXCIgKDMpJywgZnVuY3Rpb24gKCkge1xuICAgICAgcGFyc2VDYXBzKHt9LCBbe31dKS5hbGxGaXJzdE1hdGNoQ2Fwcy5zaG91bGQuZGVlcC5lcXVhbChbe31dKTtcbiAgICB9KTtcblxuICAgIGl0KCdzZXRzIFwiYWxsRmlyc3RNYXRjaENhcHNcIiB0byBbe31dIGlmIFwiZmlyc3RNYXRjaFwiIGlzIHVuZGVmaW5lZCAoMy4xKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHBhcnNlQ2Fwcyh7fSkuYWxsRmlyc3RNYXRjaENhcHMuc2hvdWxkLmRlZXAuZXF1YWwoW3t9XSk7XG4gICAgfSk7XG5cbiAgICBpdCgncmV0dXJucyBpbnZhbGlkIGFyZ3VtZW50IGVycm9yIGlmIFwiZmlyc3RNYXRjaFwiIGlzIG5vdCBhbiBhcnJheSBhbmQgaXMgbm90IHVuZGVmaW5lZCAoMy4yKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAobGV0IGFyZyBvZiBbbnVsbCwgMSwgdHJ1ZSwgJ3N0cmluZyddKSB7XG4gICAgICAgIGNhcHMuZmlyc3RNYXRjaCA9IGFyZztcbiAgICAgICAgKGZ1bmN0aW9uICgpIHsgcGFyc2VDYXBzKGNhcHMpOyB9KS5zaG91bGQudGhyb3coL211c3QgYmUgYSBKU09OIGFycmF5IG9yIHVuZGVmaW5lZC8pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ2hhcyBcInZhbGlkYXRlZEZpcnN0TWF0Y2hDYXBzXCIgcHJvcGVydHkgdGhhdCBpcyBlbXB0eSBieSBkZWZhdWx0IGlmIG5vIHZhbGlkIGZpcnN0TWF0Y2ggY2FwcyB3ZXJlIGZvdW5kICg0KScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHBhcnNlQ2FwcyhjYXBzLCB7Zm9vOiB7cHJlc2VuY2U6IHRydWV9fSkudmFsaWRhdGVkRmlyc3RNYXRjaENhcHMuc2hvdWxkLmRlZXAuZXF1YWwoW10pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3JldHVybnMgYSBcInZhbGlkYXRlZEZpcnN0TWF0Y2hDYXBzXCIgYXJyYXkgKDUpJywgZnVuY3Rpb24gKCkge1xuICAgICAgaXQoJ3RoYXQgZXF1YWxzIFwiZmlyc3RNYXRjaFwiIGlmIGZpcnN0TWF0Y2ggaXMgb25lIGVtcHR5IG9iamVjdCBhbmQgdGhlcmUgYXJlIG5vIGNvbnN0cmFpbnRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYXBzLmZpcnN0TWF0Y2ggPSBbe31dO1xuICAgICAgICBwYXJzZUNhcHMoY2FwcykudmFsaWRhdGVkRmlyc3RNYXRjaENhcHMuc2hvdWxkLmRlZXAuZXF1YWwoY2Fwcy5maXJzdE1hdGNoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgncmV0dXJucyBcIm51bGxcIiBtYXRjaGVkQ2FwcyBpZiBub3RoaW5nIG1hdGNoZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhcHMuZmlyc3RNYXRjaCA9IFt7fV07XG4gICAgICAgIHNob3VsZC5lcXVhbChwYXJzZUNhcHMoY2Fwcywge2Zvbzoge3ByZXNlbmNlOiB0cnVlfX0pLm1hdGNoZWRDYXBzLCBudWxsKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdChgc2hvdWxkIHJldHVybiBjYXBhYmlsaXRpZXMgaWYgcHJlc2VuY2UgY29uc3RyYWludCBpcyBtYXRjaGVkIGluIGF0IGxlYXN0IG9uZSBvZiB0aGUgJ2ZpcnN0TWF0Y2gnIGNhcGFiaWxpdGllcyBvYmplY3RzYCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYXBzLmFsd2F5c01hdGNoID0ge1xuICAgICAgICAgICdhcHBpdW06Zm9vJzogJ2JhcicsXG4gICAgICAgIH07XG4gICAgICAgIGNhcHMuZmlyc3RNYXRjaCA9IFt7XG4gICAgICAgICAgJ2FwcGl1bTpoZWxsbyc6ICd3b3JsZCcsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAnYXBwaXVtOmdvb2RieWUnOiAnd29ybGQnLFxuICAgICAgICB9XTtcbiAgICAgICAgcGFyc2VDYXBzKGNhcHMsIHtnb29kYnllOiB7cHJlc2VuY2U6IHRydWV9fSkubWF0Y2hlZENhcHMuc2hvdWxkLmRlZXAuZXF1YWwoe1xuICAgICAgICAgIGZvbzogJ2JhcicsXG4gICAgICAgICAgZ29vZGJ5ZTogJ3dvcmxkJyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoYHRocm93cyBpbnZhbGlkIGFyZ3VtZW50IGlmIHByZXNlbmNlIGNvbnN0cmFpbnQgaXMgbm90IG1ldCBvbiBhbnkgY2FwYWJpbGl0aWVzYCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYXBzLmFsd2F5c01hdGNoID0ge1xuICAgICAgICAgICdhcHBpdW06Zm9vJzogJ2JhcicsXG4gICAgICAgIH07XG4gICAgICAgIGNhcHMuZmlyc3RNYXRjaCA9IFt7XG4gICAgICAgICAgJ2FwcGl1bTpoZWxsbyc6ICd3b3JsZCcsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAnYXBwaXVtOmdvb2RieWUnOiAnd29ybGQnLFxuICAgICAgICB9XTtcbiAgICAgICAgc2hvdWxkLmVxdWFsKHBhcnNlQ2FwcyhjYXBzLCB7c29tZUF0dHJpYnV0ZToge3ByZXNlbmNlOiB0cnVlfX0pLm1hdGNoZWRDYXBzLCBudWxsKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgndGhhdCBlcXVhbHMgZmlyc3RNYXRjaCBpZiBmaXJzdE1hdGNoIGNvbnRhaW5zIHR3byBvYmplY3RzIHRoYXQgcGFzcyB0aGUgcHJvdmlkZWQgY29uc3RyYWludHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhcHMuYWx3YXlzTWF0Y2ggPSB7XG4gICAgICAgICAgJ2FwcGl1bTpmb28nOiAnYmFyJ1xuICAgICAgICB9O1xuICAgICAgICBjYXBzLmZpcnN0TWF0Y2ggPSBbXG4gICAgICAgICAgeydhcHBpdW06Zm9vJzogJ2JhcjEnfSxcbiAgICAgICAgICB7J2FwcGl1bTpmb28nOiAnYmFyMid9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBjb25zdHJhaW50cyA9IHtcbiAgICAgICAgICBmb286IHtcbiAgICAgICAgICAgIHByZXNlbmNlOiB0cnVlLFxuICAgICAgICAgICAgaXNTdHJpbmc6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHBhcnNlQ2FwcyhjYXBzLCBjb25zdHJhaW50cykudmFsaWRhdGVkRmlyc3RNYXRjaENhcHMuc2hvdWxkLmRlZXAuZXF1YWwoY2Fwcy5maXJzdE1hdGNoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgncmV0dXJucyBubyB2ZW5kb3IgcHJlZml4IGVycm9yIGlmIHRoZSBmaXJzdE1hdGNoWzJdIGRvZXMgbm90IGhhdmUgaXQgYmVjYXVzZSBvZiBubyBiamVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2Fwcy5hbHdheXNNYXRjaCA9IHt9O1xuICAgICAgICBjYXBzLmZpcnN0TWF0Y2ggPSBbeydhcHBpdW06Zm9vJzogJ2Jhcid9LCAnZm9vJ107XG4gICAgICAgICgoKSA9PiBwYXJzZUNhcHMoY2Fwcywge30pKS5zaG91bGQudGhyb3coL0FsbCBub24tc3RhbmRhcmQgY2FwYWJpbGl0aWVzIHNob3VsZCBoYXZlIGEgdmVuZG9yIHByZWZpeC8pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgncmV0dXJucyBhIG1hdGNoZWRDYXBzIG9iamVjdCAoNiknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2Fwcy5hbHdheXNNYXRjaCA9IHsnYXBwaXVtOmhlbGxvJzogJ3dvcmxkJ307XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3doaWNoIGlzIHNhbWUgYXMgYWx3YXlzTWF0Y2ggaWYgZmlyc3RNYXRjaCBhcnJheSBpcyBub3QgcHJvdmlkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhcnNlQ2FwcyhjYXBzKS5tYXRjaGVkQ2Fwcy5zaG91bGQuZGVlcC5lcXVhbCh7aGVsbG86ICd3b3JsZCd9KTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnbWVyZ2VzIGNhcHMgdG9nZXRoZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhcHMuZmlyc3RNYXRjaCA9IFt7J2FwcGl1bTpmb28nOiAnYmFyJ31dO1xuICAgICAgICBwYXJzZUNhcHMoY2FwcykubWF0Y2hlZENhcHMuc2hvdWxkLmRlZXAuZXF1YWwoe2hlbGxvOiAnd29ybGQnLCBmb286ICdiYXInfSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3dpdGggbWVyZ2VkIGNhcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhcHMuZmlyc3RNYXRjaCA9IFt7J2FwcGl1bTpoZWxsbyc6ICdiYXInLCAnYXBwaXVtOmZvbyc6ICdmb28nfSwgeydhcHBpdW06Zm9vJzogJ2Jhcid9XTtcbiAgICAgICAgcGFyc2VDYXBzKGNhcHMpLm1hdGNoZWRDYXBzLnNob3VsZC5kZWVwLmVxdWFsKHtoZWxsbzogJ3dvcmxkJywgZm9vOiAnYmFyJ30pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcjcHJvY2Vzc0NhcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gXCJhbHdheXNNYXRjaFwiIGlmIFwiZmlyc3RNYXRjaFwiIGFuZCBcImNvbnN0cmFpbnRzXCIgd2VyZSBub3QgcHJvdmlkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzQ2FwYWJpbGl0aWVzKHt9KS5zaG91bGQuZGVlcC5lcXVhbCh7fSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBtZXJnZWQgY2FwcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3NDYXBhYmlsaXRpZXMoe1xuICAgICAgICBhbHdheXNNYXRjaDogeydhcHBpdW06aGVsbG8nOiAnd29ybGQnfSxcbiAgICAgICAgZmlyc3RNYXRjaDogW3snYXBwaXVtOmZvbyc6ICdiYXInfV1cbiAgICAgIH0pLnNob3VsZC5kZWVwLmVxdWFsKHtoZWxsbzogJ3dvcmxkJywgZm9vOiAnYmFyJ30pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdHJpcCBvdXQgdGhlIFwiYXBwaXVtOlwiIHByZWZpeCBmb3Igbm9uLXN0YW5kYXJkIGNhcGFiaWxpdGllcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3NDYXBhYmlsaXRpZXMoe1xuICAgICAgICBhbHdheXNNYXRjaDogeydhcHBpdW06aGVsbG8nOiAnd29ybGQnfSxcbiAgICAgICAgZmlyc3RNYXRjaDogW3snYXBwaXVtOmZvbyc6ICdiYXInfV1cbiAgICAgIH0pLnNob3VsZC5kZWVwLmVxdWFsKHtoZWxsbzogJ3dvcmxkJywgZm9vOiAnYmFyJ30pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdGlsbCBhY2NlcHQgcHJlZml4ZWQgY2FwcyBldmVuIGlmIHRoZXkgYXJlIHN0YW5kYXJkIGNhcGFiaWxpdGllcyAoaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYmRyaXZlci8jZGZuLXRhYmxlLW9mLXN0YW5kYXJkLWNhcGFiaWxpdGllcyknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzQ2FwYWJpbGl0aWVzKHtcbiAgICAgICAgYWx3YXlzTWF0Y2g6IHsnYXBwaXVtOnBsYXRmb3JtTmFtZSc6ICdXaGF0ZXZ6J30sXG4gICAgICAgIGZpcnN0TWF0Y2g6IFt7J2FwcGl1bTpicm93c2VyTmFtZSc6ICdBbnl0aGluZyd9XSxcbiAgICAgIH0pLnNob3VsZC5kZWVwLmVxdWFsKHtwbGF0Zm9ybU5hbWU6ICdXaGF0ZXZ6JywgYnJvd3Nlck5hbWU6ICdBbnl0aGluZyd9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJlZmVyIHN0YW5kYXJkIGNhcHMgdGhhdCBhcmUgbm9uLXByZWZpeGVkIHRvIHByZWZpeGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzc0NhcGFiaWxpdGllcyh7XG4gICAgICAgIGFsd2F5c01hdGNoOiB7J2FwcGl1bTpwbGF0Zm9ybU5hbWUnOiAnRm9vJywgJ3BsYXRmb3JtTmFtZSc6ICdCYXInfSxcbiAgICAgICAgZmlyc3RNYXRjaDogW3snYXBwaXVtOmJyb3dzZXJOYW1lJzogJ0ZPTycsICdicm93c2VyTmFtZSc6ICdCQVInfV0sXG4gICAgICB9KS5zaG91bGQuZGVlcC5lcXVhbCh7cGxhdGZvcm1OYW1lOiAnQmFyJywgYnJvd3Nlck5hbWU6ICdCQVInfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBleGNlcHRpb24gaWYgZHVwbGljYXRlcyBpbiBhbHdheXNNYXRjaCBhbmQgZmlyc3RNYXRjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICgoKSA9PiBwcm9jZXNzQ2FwYWJpbGl0aWVzKHtcbiAgICAgICAgYWx3YXlzTWF0Y2g6IHsncGxhdGZvcm1OYW1lJzogJ0Zha2UnLCAnYXBwaXVtOmZha2VDYXAnOiAnZm9vYmFyJ30sXG4gICAgICAgIGZpcnN0TWF0Y2g6IFt7J2FwcGl1bTpwbGF0Zm9ybU5hbWUnOiAnYmFyJ31dLFxuICAgICAgfSkpLnNob3VsZC50aHJvdygvc2hvdWxkIG5vdCBleGlzdCBvbiBib3RoIHByaW1hcnkvKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IHRocm93IGFuIGV4Y2VwdGlvbiBpZiBwcmVzZW5jZSBjb25zdHJhaW50IGlzIG5vdCBtZXQgb24gYSBmaXJzdE1hdGNoIGNhcGFiaWxpdHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjYXBzID0gcHJvY2Vzc0NhcGFiaWxpdGllcyh7XG4gICAgICAgIGFsd2F5c01hdGNoOiB7J3BsYXRmb3JtTmFtZSc6ICdGYWtlJywgJ2FwcGl1bTpmYWtlQ2FwJzogJ2Zvb2Jhcid9LFxuICAgICAgICBmaXJzdE1hdGNoOiBbeydhcHBpdW06Zm9vJzogJ2Jhcid9XSxcbiAgICAgIH0sIHtcbiAgICAgICAgcGxhdGZvcm1OYW1lOiB7XG4gICAgICAgICAgcHJlc2VuY2U6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGZha2VDYXA6IHtcbiAgICAgICAgICBwcmVzZW5jZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNhcHMucGxhdGZvcm1OYW1lLnNob3VsZC5lcXVhbCgnRmFrZScpO1xuICAgICAgY2Fwcy5mYWtlQ2FwLnNob3VsZC5lcXVhbCgnZm9vYmFyJyk7XG4gICAgICBjYXBzLmZvby5zaG91bGQuZXF1YWwoJ2JhcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBleGNlcHRpb24gaWYgbm8gbWF0Y2hpbmcgY2FwcyB3ZXJlIGZvdW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgKCgpID0+IHByb2Nlc3NDYXBhYmlsaXRpZXMoe1xuICAgICAgICBhbHdheXNNYXRjaDogeydwbGF0Zm9ybU5hbWUnOiAnRmFrZScsICdhcHBpdW06ZmFrZUNhcCc6ICdmb29iYXInfSxcbiAgICAgICAgZmlyc3RNYXRjaDogW3snYXBwaXVtOmZvbyc6ICdiYXInfV0sXG4gICAgICB9LCB7XG4gICAgICAgIHBsYXRmb3JtTmFtZToge1xuICAgICAgICAgIHByZXNlbmNlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBmYWtlQ2FwOiB7XG4gICAgICAgICAgcHJlc2VuY2U6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWlzc2luZ0NhcDoge1xuICAgICAgICAgIHByZXNlbmNlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSkpLnNob3VsZC50aHJvdygvJ21pc3NpbmdDYXAnIGNhbid0IGJlIGJsYW5rLyk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgndmFsaWRhdGUgQXBwaXVtIGNvbnN0cmFpbnRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY29uc3RyYWludHMgPSB7Li4uZGVzaXJlZENhcGFiaWxpdHlDb25zdHJhaW50c307XG4gICAgICBjb25zdCBleHBlY3RlZE1hdGNoaW5nQ2FwcyA9IHsncGxhdGZvcm1OYW1lJzogJ0Zha2UnLCAnYXV0b21hdGlvbk5hbWUnOiAnRmFrZScsICdkZXZpY2VOYW1lJzogJ0Zha2UnfTtcblxuICAgICAgbGV0IG1hdGNoaW5nQ2FwcztcbiAgICAgIGxldCBjYXBzO1xuXG4gICAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWF0Y2hpbmdDYXBzID0ge1xuICAgICAgICAgICdwbGF0Zm9ybU5hbWUnOiAnRmFrZScsXG4gICAgICAgICAgJ2FwcGl1bTphdXRvbWF0aW9uTmFtZSc6ICdGYWtlJyxcbiAgICAgICAgICAnYXBwaXVtOmRldmljZU5hbWUnOiAnRmFrZSdcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHdoZW4gYWx3YXlzTWF0Y2ggaGFzIHRoZSBwcm9wZXIgY2FwcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FwcyA9IHtcbiAgICAgICAgICBhbHdheXNNYXRjaDogbWF0Y2hpbmdDYXBzLFxuICAgICAgICAgIGZpcnN0TWF0Y2g6IFt7fV0sXG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NDYXBhYmlsaXRpZXMoY2FwcywgY29uc3RyYWludHMpLnNob3VsZC5kZWVwLmVxdWFsKGV4cGVjdGVkTWF0Y2hpbmdDYXBzKTtcbiAgICAgIH0pO1xuXG5cbiAgICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgd2hlbiBmaXJzdE1hdGNoWzBdIGhhcyB0aGUgcHJvcGVyIGNhcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhcHMgPSB7XG4gICAgICAgICAgYWx3YXlzTWF0Y2g6IHt9LFxuICAgICAgICAgIGZpcnN0TWF0Y2g6IFttYXRjaGluZ0NhcHNdLFxuICAgICAgICB9O1xuICAgICAgICBwcm9jZXNzQ2FwYWJpbGl0aWVzKGNhcHMsIGNvbnN0cmFpbnRzKS5zaG91bGQuZGVlcC5lcXVhbChleHBlY3RlZE1hdGNoaW5nQ2Fwcyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB3aGVuIGFsd2F5c01hdGNoIGFuZCBmaXJzdE1hdGNoWzBdIGhhdmUgdGhlIHByb3BlciBjYXBzIHdoZW4gbWVyZ2VkIHRvZ2V0aGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYXBzID0ge1xuICAgICAgICAgIGFsd2F5c01hdGNoOiBfLm9taXQobWF0Y2hpbmdDYXBzLCBbJ2FwcGl1bTpkZXZpY2VOYW1lJ10pLFxuICAgICAgICAgIGZpcnN0TWF0Y2g6IFt7J2FwcGl1bTpkZXZpY2VOYW1lJzogJ0Zha2UnfV0sXG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NDYXBhYmlsaXRpZXMoY2FwcywgY29uc3RyYWludHMpLnNob3VsZC5kZWVwLmVxdWFsKGV4cGVjdGVkTWF0Y2hpbmdDYXBzKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHdoZW4gYXV0b21hdGlvbk5hbWUgaXMgb21pdHRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FwcyA9IHtcbiAgICAgICAgICBhbHdheXNNYXRjaDogXy5vbWl0KG1hdGNoaW5nQ2FwcywgWydhcHBpdW06YXV0b21hdGlvbk5hbWUnXSksXG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NDYXBhYmlsaXRpZXMoY2FwcywgY29uc3RyYWludHMpLnNob3VsZC5kZWVwLmVxdWFsKF8ub21pdChleHBlY3RlZE1hdGNoaW5nQ2FwcywgJ2F1dG9tYXRpb25OYW1lJykpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcGFzcyBpZiBmaXJzdCBlbGVtZW50IGluIFwiZmlyc3RNYXRjaFwiIGRvZXMgdmFsaWRhdGUgYW5kIHNlY29uZCBlbGVtZW50IGRvZXMgbm90JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYXBzID0ge1xuICAgICAgICAgIGFsd2F5c01hdGNoOiB7fSxcbiAgICAgICAgICBmaXJzdE1hdGNoOiBbXG4gICAgICAgICAgICBtYXRjaGluZ0NhcHMsXG4gICAgICAgICAgICB7J2FwcGl1bTpiYWRDYXBzJzogJ2JhZENhcHMnfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgICAgICBwcm9jZXNzQ2FwYWJpbGl0aWVzKGNhcHMsIGNvbnN0cmFpbnRzKS5zaG91bGQuZGVlcC5lcXVhbChleHBlY3RlZE1hdGNoaW5nQ2Fwcyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBwYXNzIGlmIGZpcnN0IGVsZW1lbnQgaW4gXCJmaXJzdE1hdGNoXCIgZG9lcyBub3QgdmFsaWRhdGUgYW5kIHNlY29uZCBlbGVtZW50IGRvZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhcHMgPSB7XG4gICAgICAgICAgYWx3YXlzTWF0Y2g6IHt9LFxuICAgICAgICAgIGZpcnN0TWF0Y2g6IFtcbiAgICAgICAgICAgIHsnYXBwaXVtOmJhZENhcHMnOiAnYmFkQ2Fwcyd9LFxuICAgICAgICAgICAgbWF0Y2hpbmdDYXBzLFxuICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NDYXBhYmlsaXRpZXMoY2FwcywgY29uc3RyYWludHMpLnNob3VsZC5kZWVwLmVxdWFsKGV4cGVjdGVkTWF0Y2hpbmdDYXBzKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGZhaWwgd2hlbiBiYWQgcGFyYW1ldGVycyBhcmUgcGFzc2VkIGluIG1vcmUgdGhhbiBvbmUgZmlyc3RNYXRjaCBjYXBhYmlsaXR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYXBzID0ge1xuICAgICAgICAgIGFsd2F5c01hdGNoOiB7fSxcbiAgICAgICAgICBmaXJzdE1hdGNoOiBbe1xuICAgICAgICAgICAgJ2FwcGl1bTpiYWQnOiAncGFyYW1zJyxcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAnYXBwaXVtOm1vcmUnOiAnYmFkLXBhcmFtcycsXG4gICAgICAgICAgfV0sXG4gICAgICAgIH07XG4gICAgICAgICgoKSA9PiBwcm9jZXNzQ2FwYWJpbGl0aWVzKGNhcHMsIGNvbnN0cmFpbnRzKSkuc2hvdWxkLnRocm93KC9Db3VsZCBub3QgZmluZCBtYXRjaGluZyBjYXBhYmlsaXRpZXMvKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJy5maW5kTm9uUHJlZml4ZWRDYXBzJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgZmluZCBhbHdheXNNYXRjaCBjYXBzIHdpdGggbm8gcHJlZml4JywgZnVuY3Rpb24gKCkge1xuICAgICAgZmluZE5vblByZWZpeGVkQ2Fwcyh7YWx3YXlzTWF0Y2g6IHtcbiAgICAgICAgJ25vbi1zdGFuZGFyZCc6ICdkdW1teScsXG4gICAgICB9fSkuc2hvdWxkLmVxbChbJ25vbi1zdGFuZGFyZCddKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIG5vdCBmaW5kIGEgc3RhbmRhcmQgY2FwIGluIGFsd2F5c01hdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgZmluZE5vblByZWZpeGVkQ2Fwcyh7YWx3YXlzTWF0Y2g6IHtcbiAgICAgICAgJ3BsYXRmb3JtTmFtZSc6ICdBbnknLFxuICAgICAgfX0pLnNob3VsZC5lcWwoW10pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgZmluZCBmaXJzdE1hdGNoIGNhcHMgd2l0aCBubyBwcmVmaXgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmaW5kTm9uUHJlZml4ZWRDYXBzKHthbHdheXNNYXRjaDoge30sIGZpcnN0TWF0Y2g6IFt7XG4gICAgICAgICdub24tc3RhbmRhcmQnOiAnZHVtbXknLFxuICAgICAgfV19KS5zaG91bGQuZXFsKFsnbm9uLXN0YW5kYXJkJ10pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGZpbmQgYSBzdGFuZGFyZCBjYXAgaW4gcHJlZml4JywgZnVuY3Rpb24gKCkge1xuICAgICAgZmluZE5vblByZWZpeGVkQ2Fwcyh7YWx3YXlzTWF0Y2g6IHt9LCBmaXJzdE1hdGNoOiBbe1xuICAgICAgICAncGxhdGZvcm1OYW1lJzogJ0FueScsXG4gICAgICB9XX0pLnNob3VsZC5lcWwoW10pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgZmluZCBmaXJzdE1hdGNoIGNhcHMgaW4gc2Vjb25kIGl0ZW0gb2YgZmlyc3RNYXRjaCBhcnJheScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZpbmROb25QcmVmaXhlZENhcHMoe2Fsd2F5c01hdGNoOiB7fSwgZmlyc3RNYXRjaDogW3t9LCB7XG4gICAgICAgICdub24tc3RhbmRhcmQnOiAnZHVtbXknLFxuICAgICAgfV19KS5zaG91bGQuZXFsKFsnbm9uLXN0YW5kYXJkJ10pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgcmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSBhbHdheXNNYXRjaCBhbmQgZmlyc3RNYXRjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZpbmROb25QcmVmaXhlZENhcHMoe2Fsd2F5c01hdGNoOiB7XG4gICAgICAgICdub24tc3RhbmRhcmQnOiAnc29tZXRoaW5nJyxcbiAgICAgIH0sIGZpcnN0TWF0Y2g6IFt7XG4gICAgICAgICdub24tc3RhbmRhcmQnOiAnZHVtbXknLFxuICAgICAgfV19KS5zaG91bGQuZXFsKFsnbm9uLXN0YW5kYXJkJ10pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgcmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSBmaXJzdE1hdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgZmluZE5vblByZWZpeGVkQ2Fwcyh7Zmlyc3RNYXRjaDogW3tcbiAgICAgICAgJ25vbi1zdGFuZGFyZCc6ICdkdW1teScsXG4gICAgICB9LCB7XG4gICAgICAgICdub24tc3RhbmRhcmQnOiAnZHVtbXkgMicsXG4gICAgICB9XX0pLnNob3VsZC5lcWwoWydub24tc3RhbmRhcmQnXSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZW1vdmUgZHVwbGljYXRlcyBhbmQga2VlcCBzdGFuZGFyZCBjYXBhYmlsaXRpZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBhbHdheXNNYXRjaCA9IHtcbiAgICAgICAgcGxhdGZvcm1OYW1lOiAnRmFrZScsXG4gICAgICAgIG5vblN0YW5kYXJkT25lOiAnbm9uLXN0YW5kYXJkJyxcbiAgICAgICAgbm9uU3RhbmRhcmRUd286ICdub24tc3RhbmRhcmQnLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGZpcnN0TWF0Y2ggPSBbXG4gICAgICAgIHtub25TdGFuZGFyZFRocmVlOiAnbm9uLXN0YW5kYXJkJywgbm9uU3RhbmRhcmRGb3VyOiAnbm9uLXN0YW5kYXJkJywgYnJvd3Nlck5hbWU6ICdGYWtlQnJvd3Nlcid9LFxuICAgICAgICB7bm9uU3RhbmRhcmRUaHJlZTogJ25vbi1zdGFuZGFyZCcsIG5vblN0YW5kYXJkRm91cjogJ25vbi1zdGFuZGFyZCcsIG5vblN0YW5kYXJkRml2ZTogJ25vbi1zdGFuZGFyZCcsIGJyb3dzZXJWZXJzaW9uOiAnd2hhdGV2YSd9LFxuICAgICAgXTtcbiAgICAgIGZpbmROb25QcmVmaXhlZENhcHMoe2Fsd2F5c01hdGNoLCBmaXJzdE1hdGNofSkuc2hvdWxkLmVxbChbJ25vblN0YW5kYXJkT25lJywgJ25vblN0YW5kYXJkVHdvJywgJ25vblN0YW5kYXJkVGhyZWUnLCAnbm9uU3RhbmRhcmRGb3VyJywgJ25vblN0YW5kYXJkRml2ZSddKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJyNwcm9tb3RlQXBwaXVtT3B0aW9ucycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhcHBpdW1DYXBzID0ge1xuICAgICAgJ2FwcGl1bTpwbGF0Zm9ybVZlcnNpb24nOiAnMTQuNCcsXG4gICAgICAnYXBwaXVtOmRldmljZU5hbWUnOiAnaVBob25lIDExJyxcbiAgICAgICdhcHBpdW06YXBwJzogJy9mb28vYmFyLmFwcC56aXAnLFxuICAgICAgJ2FwcGl1bTphdXRvbWF0aW9uTmFtZSc6ICdYQ1VJVGVzdCcsXG4gICAgfTtcbiAgICBjb25zdCBub25BcHBpdW1DYXBzID0ge1xuICAgICAgcGxhdGZvcm1OYW1lOiAnaU9TJyxcbiAgICB9O1xuICAgIGNvbnN0IGFwcGl1bVVucHJlZml4ZWRDYXBzID0gXy5jbG9uZShhcHBpdW1DYXBzKTtcbiAgICBzdHJpcEFwcGl1bVByZWZpeGVzKGFwcGl1bVVucHJlZml4ZWRDYXBzKTtcbiAgICBjb25zdCBzaW1wbGVDYXBzID0ge1xuICAgICAgLi4ubm9uQXBwaXVtQ2FwcyxcbiAgICAgIC4uLmFwcGl1bVVucHJlZml4ZWRDYXBzLFxuICAgIH07XG4gICAgaXQoJ3Nob3VsZCBkbyBub3RoaW5nIHRvIGNhcHMgdGhhdCBkb250IGluY2x1ZGUgdGhlIG9wdGlvbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9tb3RlQXBwaXVtT3B0aW9ucyhzaW1wbGVDYXBzKS5zaG91bGQuZXFsKHNpbXBsZUNhcHMpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgcHJvbW90ZSBvcHRpb25zJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY2FwcyA9IHtcbiAgICAgICAgLi4ubm9uQXBwaXVtQ2FwcyxcbiAgICAgICAgW0FQUElVTV9PUFRTX0NBUF06IHtcbiAgICAgICAgICAuLi5hcHBpdW1VbnByZWZpeGVkQ2FwcyxcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHByb21vdGVBcHBpdW1PcHRpb25zKGNhcHMpLnNob3VsZC5lcWwoc2ltcGxlQ2Fwcyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBnZXQgcmlkIG9mIHByZWZpeGVzIGlmIGNhcHMgaW5zaWRlIG9wdGlvbnMgYXJlIHByZWZpeGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY2FwcyA9IHtcbiAgICAgICAgLi4ubm9uQXBwaXVtQ2FwcyxcbiAgICAgICAgW0FQUElVTV9PUFRTX0NBUF06IHtcbiAgICAgICAgICAuLi5hcHBpdW1DYXBzLFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvbW90ZUFwcGl1bU9wdGlvbnMoY2Fwcykuc2hvdWxkLmVxbChzaW1wbGVDYXBzKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHByZXNlcnZlIG5vbi1hcHBpdW0gdmVuZG9yIHByZWZpeGVzJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZ29vZ0NhcHMgPSB7J2dvb2c6Y2hyb21lT3B0aW9ucyc6IHtmb286ICdiYXInfX07XG4gICAgICBjb25zdCBjYXBzID0ge1xuICAgICAgICAuLi5ub25BcHBpdW1DYXBzLFxuICAgICAgICBbQVBQSVVNX09QVFNfQ0FQXToge1xuICAgICAgICAgIC4uLmFwcGl1bUNhcHMsXG4gICAgICAgICAgLi4uZ29vZ0NhcHMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJvbW90ZUFwcGl1bU9wdGlvbnMoY2Fwcykuc2hvdWxkLmVxbCh7XG4gICAgICAgIC4uLnNpbXBsZUNhcHMsXG4gICAgICAgIC4uLmdvb2dDYXBzLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBvdmVyd3JpdGUgY2FwcyBmb3VuZCBvbiB0aGUgdG9wIGxldmVsJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY2FwcyA9IHtcbiAgICAgICAgLi4ubm9uQXBwaXVtQ2FwcyxcbiAgICAgICAgZm9vOiAnYmFyJyxcbiAgICAgICAgW0FQUElVTV9PUFRTX0NBUF06IHtcbiAgICAgICAgICAuLi5hcHBpdW1DYXBzLFxuICAgICAgICAgIGZvbzogJ2JheicsXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9tb3RlQXBwaXVtT3B0aW9ucyhjYXBzKS5zaG91bGQuZXFsKHtcbiAgICAgICAgLi4uc2ltcGxlQ2FwcyxcbiAgICAgICAgZm9vOiAnYmF6JyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJ0ZXN0L2Jhc2Vkcml2ZXIvY2FwYWJpbGl0aWVzLXNwZWNzLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
