"use strict";

require("source-map-support/register");

var _helpers = require("./helpers");

describe('logger with force log', function () {
  let writers, log;
  before(function () {
    writers = (0, _helpers.setupWriters)();
    log = (0, _helpers.getDynamicLogger)(true, true);
    log.level = 'silly';
  });
  after(function () {
    (0, _helpers.restoreWriters)(writers);
  });
  it('should not rewrite log levels even during testing', function () {
    log.silly('silly');
    (0, _helpers.assertOutputContains)(writers, 'silly');
    log.verbose('verbose');
    (0, _helpers.assertOutputContains)(writers, 'verbose');
    log.verbose('debug');
    (0, _helpers.assertOutputContains)(writers, 'debug');
    log.info('info');
    (0, _helpers.assertOutputContains)(writers, 'info');
    log.http('http');
    (0, _helpers.assertOutputContains)(writers, 'http');
    log.warn('warn');
    (0, _helpers.assertOutputContains)(writers, 'warn');
    log.error('error');
    (0, _helpers.assertOutputContains)(writers, 'error');
    (() => {
      log.errorAndThrow('msg');
    }).should.throw('msg');
    (0, _helpers.assertOutputContains)(writers, 'error');
    (0, _helpers.assertOutputContains)(writers, 'msg');
  });
});require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvbG9nZ2VyL2xvZ2dlci1mb3JjZS1zcGVjcy5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsIndyaXRlcnMiLCJsb2ciLCJiZWZvcmUiLCJsZXZlbCIsImFmdGVyIiwiaXQiLCJzaWxseSIsInZlcmJvc2UiLCJpbmZvIiwiaHR0cCIsIndhcm4iLCJlcnJvciIsImVycm9yQW5kVGhyb3ciLCJzaG91bGQiLCJ0aHJvdyJdLCJtYXBwaW5ncyI6Ijs7OztBQUVBOztBQUdBQSxRQUFRLENBQUMsdUJBQUQsRUFBMEIsWUFBWTtBQUM1QyxNQUFJQyxPQUFKLEVBQWFDLEdBQWI7QUFDQUMsRUFBQUEsTUFBTSxDQUFDLFlBQVk7QUFDakJGLElBQUFBLE9BQU8sR0FBRyw0QkFBVjtBQUNBQyxJQUFBQSxHQUFHLEdBQUcsK0JBQWlCLElBQWpCLEVBQXVCLElBQXZCLENBQU47QUFDQUEsSUFBQUEsR0FBRyxDQUFDRSxLQUFKLEdBQVksT0FBWjtBQUNELEdBSkssQ0FBTjtBQU1BQyxFQUFBQSxLQUFLLENBQUMsWUFBWTtBQUNoQixpQ0FBZUosT0FBZjtBQUNELEdBRkksQ0FBTDtBQUlBSyxFQUFBQSxFQUFFLENBQUMsbURBQUQsRUFBc0QsWUFBWTtBQUNsRUosSUFBQUEsR0FBRyxDQUFDSyxLQUFKLENBQVUsT0FBVjtBQUNBLHVDQUFxQk4sT0FBckIsRUFBOEIsT0FBOUI7QUFDQUMsSUFBQUEsR0FBRyxDQUFDTSxPQUFKLENBQVksU0FBWjtBQUNBLHVDQUFxQlAsT0FBckIsRUFBOEIsU0FBOUI7QUFDQUMsSUFBQUEsR0FBRyxDQUFDTSxPQUFKLENBQVksT0FBWjtBQUNBLHVDQUFxQlAsT0FBckIsRUFBOEIsT0FBOUI7QUFDQUMsSUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVMsTUFBVDtBQUNBLHVDQUFxQlIsT0FBckIsRUFBOEIsTUFBOUI7QUFDQUMsSUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVMsTUFBVDtBQUNBLHVDQUFxQlQsT0FBckIsRUFBOEIsTUFBOUI7QUFDQUMsSUFBQUEsR0FBRyxDQUFDUyxJQUFKLENBQVMsTUFBVDtBQUNBLHVDQUFxQlYsT0FBckIsRUFBOEIsTUFBOUI7QUFDQUMsSUFBQUEsR0FBRyxDQUFDVSxLQUFKLENBQVUsT0FBVjtBQUNBLHVDQUFxQlgsT0FBckIsRUFBOEIsT0FBOUI7QUFDQSxLQUFDLE1BQU07QUFBRUMsTUFBQUEsR0FBRyxDQUFDVyxhQUFKLENBQWtCLEtBQWxCO0FBQTJCLEtBQXBDLEVBQXNDQyxNQUF0QyxDQUE2Q0MsS0FBN0MsQ0FBbUQsS0FBbkQ7QUFDQSx1Q0FBcUJkLE9BQXJCLEVBQThCLE9BQTlCO0FBQ0EsdUNBQXFCQSxPQUFyQixFQUE4QixLQUE5QjtBQUNELEdBbEJDLENBQUY7QUFtQkQsQ0EvQk8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRyYW5zcGlsZTptb2NoYVxuXG5pbXBvcnQgeyBnZXREeW5hbWljTG9nZ2VyLCByZXN0b3JlV3JpdGVycywgc2V0dXBXcml0ZXJzLFxuICAgICAgICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5kZXNjcmliZSgnbG9nZ2VyIHdpdGggZm9yY2UgbG9nJywgZnVuY3Rpb24gKCkge1xuICBsZXQgd3JpdGVycywgbG9nO1xuICBiZWZvcmUoZnVuY3Rpb24gKCkge1xuICAgIHdyaXRlcnMgPSBzZXR1cFdyaXRlcnMoKTtcbiAgICBsb2cgPSBnZXREeW5hbWljTG9nZ2VyKHRydWUsIHRydWUpO1xuICAgIGxvZy5sZXZlbCA9ICdzaWxseSc7XG4gIH0pO1xuXG4gIGFmdGVyKGZ1bmN0aW9uICgpIHtcbiAgICByZXN0b3JlV3JpdGVycyh3cml0ZXJzKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBub3QgcmV3cml0ZSBsb2cgbGV2ZWxzIGV2ZW4gZHVyaW5nIHRlc3RpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgbG9nLnNpbGx5KCdzaWxseScpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICdzaWxseScpO1xuICAgIGxvZy52ZXJib3NlKCd2ZXJib3NlJyk7XG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJ3ZlcmJvc2UnKTtcbiAgICBsb2cudmVyYm9zZSgnZGVidWcnKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAnZGVidWcnKTtcbiAgICBsb2cuaW5mbygnaW5mbycpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICdpbmZvJyk7XG4gICAgbG9nLmh0dHAoJ2h0dHAnKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAnaHR0cCcpO1xuICAgIGxvZy53YXJuKCd3YXJuJyk7XG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJ3dhcm4nKTtcbiAgICBsb2cuZXJyb3IoJ2Vycm9yJyk7XG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJ2Vycm9yJyk7XG4gICAgKCgpID0+IHsgbG9nLmVycm9yQW5kVGhyb3coJ21zZycpOyB9KS5zaG91bGQudGhyb3coJ21zZycpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICdlcnJvcicpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICdtc2cnKTtcbiAgfSk7XG59KTtcbiJdLCJmaWxlIjoidGVzdC9sb2dnZXIvbG9nZ2VyLWZvcmNlLXNwZWNzLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
