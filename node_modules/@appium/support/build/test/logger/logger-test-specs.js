"use strict";

require("source-map-support/register");

var _helpers = require("./helpers");

describe('test logger', function () {
  let writers, log;
  before(function () {
    writers = (0, _helpers.setupWriters)();
    log = (0, _helpers.getDynamicLogger)(true);
  });
  after(function () {
    (0, _helpers.restoreWriters)(writers);
  });
  it('should contains levels', function () {
    log.levels.should.have.length.above(3);
    log.levels[2].should.equal('debug');
  });
  it('should unwrap', function () {
    log.unwrap.should.exist;
    log.unwrap().should.exist;
  });
  it('should rewrite npmlog levels during testing', function () {
    const text = 'hi';
    log.silly(text);
    log.verbose(text);
    log.info(text);
    log.http(text);
    log.warn(text);
    log.error(text);
    (() => {
      log.errorAndThrow(text);
    }).should.throw(text);
    (0, _helpers.assertOutputDoesntContain)(writers, text);
  });
});require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvbG9nZ2VyL2xvZ2dlci10ZXN0LXNwZWNzLmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwid3JpdGVycyIsImxvZyIsImJlZm9yZSIsImFmdGVyIiwiaXQiLCJsZXZlbHMiLCJzaG91bGQiLCJoYXZlIiwibGVuZ3RoIiwiYWJvdmUiLCJlcXVhbCIsInVud3JhcCIsImV4aXN0IiwidGV4dCIsInNpbGx5IiwidmVyYm9zZSIsImluZm8iLCJodHRwIiwid2FybiIsImVycm9yIiwiZXJyb3JBbmRUaHJvdyIsInRocm93Il0sIm1hcHBpbmdzIjoiOzs7O0FBRUE7O0FBR0FBLFFBQVEsQ0FBQyxhQUFELEVBQWdCLFlBQVk7QUFDbEMsTUFBSUMsT0FBSixFQUFhQyxHQUFiO0FBQ0FDLEVBQUFBLE1BQU0sQ0FBQyxZQUFZO0FBQ2pCRixJQUFBQSxPQUFPLEdBQUcsNEJBQVY7QUFDQUMsSUFBQUEsR0FBRyxHQUFHLCtCQUFpQixJQUFqQixDQUFOO0FBQ0QsR0FISyxDQUFOO0FBS0FFLEVBQUFBLEtBQUssQ0FBQyxZQUFZO0FBQ2hCLGlDQUFlSCxPQUFmO0FBQ0QsR0FGSSxDQUFMO0FBSUFJLEVBQUFBLEVBQUUsQ0FBQyx3QkFBRCxFQUEyQixZQUFZO0FBQ3ZDSCxJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBV0MsTUFBWCxDQUFrQkMsSUFBbEIsQ0FBdUJDLE1BQXZCLENBQThCQyxLQUE5QixDQUFvQyxDQUFwQztBQUNBUixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxDQUFYLEVBQWNDLE1BQWQsQ0FBcUJJLEtBQXJCLENBQTJCLE9BQTNCO0FBQ0QsR0FIQyxDQUFGO0FBS0FOLEVBQUFBLEVBQUUsQ0FBQyxlQUFELEVBQWtCLFlBQVk7QUFDOUJILElBQUFBLEdBQUcsQ0FBQ1UsTUFBSixDQUFXTCxNQUFYLENBQWtCTSxLQUFsQjtBQUNBWCxJQUFBQSxHQUFHLENBQUNVLE1BQUosR0FBYUwsTUFBYixDQUFvQk0sS0FBcEI7QUFDRCxHQUhDLENBQUY7QUFLQVIsRUFBQUEsRUFBRSxDQUFDLDZDQUFELEVBQWdELFlBQVk7QUFDNUQsVUFBTVMsSUFBSSxHQUFHLElBQWI7QUFDQVosSUFBQUEsR0FBRyxDQUFDYSxLQUFKLENBQVVELElBQVY7QUFDQVosSUFBQUEsR0FBRyxDQUFDYyxPQUFKLENBQVlGLElBQVo7QUFDQVosSUFBQUEsR0FBRyxDQUFDZSxJQUFKLENBQVNILElBQVQ7QUFDQVosSUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixDQUFTSixJQUFUO0FBQ0FaLElBQUFBLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0wsSUFBVDtBQUNBWixJQUFBQSxHQUFHLENBQUNrQixLQUFKLENBQVVOLElBQVY7QUFDQSxLQUFDLE1BQU07QUFBRVosTUFBQUEsR0FBRyxDQUFDbUIsYUFBSixDQUFrQlAsSUFBbEI7QUFBMEIsS0FBbkMsRUFBcUNQLE1BQXJDLENBQTRDZSxLQUE1QyxDQUFrRFIsSUFBbEQ7QUFDQSw0Q0FBMEJiLE9BQTFCLEVBQW1DYSxJQUFuQztBQUNELEdBVkMsQ0FBRjtBQVdELENBaENPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0cmFuc3BpbGU6bW9jaGFcblxuaW1wb3J0IHsgZ2V0RHluYW1pY0xvZ2dlciwgcmVzdG9yZVdyaXRlcnMsIHNldHVwV3JpdGVycyxcbiAgICAgICAgIGFzc2VydE91dHB1dERvZXNudENvbnRhaW4gfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5kZXNjcmliZSgndGVzdCBsb2dnZXInLCBmdW5jdGlvbiAoKSB7XG4gIGxldCB3cml0ZXJzLCBsb2c7XG4gIGJlZm9yZShmdW5jdGlvbiAoKSB7XG4gICAgd3JpdGVycyA9IHNldHVwV3JpdGVycygpO1xuICAgIGxvZyA9IGdldER5bmFtaWNMb2dnZXIodHJ1ZSk7XG4gIH0pO1xuXG4gIGFmdGVyKGZ1bmN0aW9uICgpIHtcbiAgICByZXN0b3JlV3JpdGVycyh3cml0ZXJzKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjb250YWlucyBsZXZlbHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgbG9nLmxldmVscy5zaG91bGQuaGF2ZS5sZW5ndGguYWJvdmUoMyk7XG4gICAgbG9nLmxldmVsc1syXS5zaG91bGQuZXF1YWwoJ2RlYnVnJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdW53cmFwJywgZnVuY3Rpb24gKCkge1xuICAgIGxvZy51bndyYXAuc2hvdWxkLmV4aXN0O1xuICAgIGxvZy51bndyYXAoKS5zaG91bGQuZXhpc3Q7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmV3cml0ZSBucG1sb2cgbGV2ZWxzIGR1cmluZyB0ZXN0aW5nJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRleHQgPSAnaGknO1xuICAgIGxvZy5zaWxseSh0ZXh0KTtcbiAgICBsb2cudmVyYm9zZSh0ZXh0KTtcbiAgICBsb2cuaW5mbyh0ZXh0KTtcbiAgICBsb2cuaHR0cCh0ZXh0KTtcbiAgICBsb2cud2Fybih0ZXh0KTtcbiAgICBsb2cuZXJyb3IodGV4dCk7XG4gICAgKCgpID0+IHsgbG9nLmVycm9yQW5kVGhyb3codGV4dCk7IH0pLnNob3VsZC50aHJvdyh0ZXh0KTtcbiAgICBhc3NlcnRPdXRwdXREb2VzbnRDb250YWluKHdyaXRlcnMsIHRleHQpO1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJ0ZXN0L2xvZ2dlci9sb2dnZXItdGVzdC1zcGVjcy5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
